{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,n){},110:function(e,t,n){\"use strict\";n.r(t);var a,r,o,s,c,i=n(0),l=n.n(i),d=n(39),u=n.n(d),j=(n(101),n(102),n(126)),b=n(130),h=n(125),O=n(54),m=n(9),p=n(93),g=n(22),x=n(32),v=n(14),k=n(118),f=n(119),w=n(128),I=n(90),S=n(120),y=n(121),C=n(134),B=n(88),F=n(89),T=n(77),$=n.n(T),_=new(function(){function e(){Object(B.a)(this,e)}return Object(F.a)(e,[{key:\"getProfile\",value:function(){return $()(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return e&&!this.isTokenExpired(e)}},{key:\"isTokenExpired\",value:function(e){try{return $()(e).exp<Date.now()/1e3&&(localStorage.removeItem(\"id_token\"),!0)}catch(t){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"login\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.reload()}}]),e}()),L=function(e){var t=localStorage.getItem(\"saved_books\")?JSON.parse(localStorage.getItem(\"saved_books\")):null;if(!t)return!1;var n=null===t||void 0===t?void 0:t.filter((function(t){return t!==e}));return localStorage.setItem(\"saved_books\",JSON.stringify(n)),!0},D=n(117),N=n(44),q=n(129),E=Object(q.a)(a||(a=Object(N.a)([\"\\n    mutation loginUser($email: String!, $password: String!) {\\n        login(email: $email, password: $password) {\\n            token\\n            user {\\n                _id\\n                username\\n            }\\n        }\\n    }\\n\"]))),P=Object(q.a)(r||(r=Object(N.a)([\"\\n    mutation addUser($username: String!, $email: String!, $password: String!) {\\n        addUser(username: $username, email: $email, password: $password) {\\n            token\\n            user {\\n                _id\\n                username\\n            }\\n        }\\n    }\\n\"]))),U=Object(q.a)(o||(o=Object(N.a)([\"\\n    mutation saveBook($bookData: BookInput!) {\\n        saveBook(bookData: $bookData) {\\n        _id\\n        username\\n        email\\n        savedBooks {\\n                authors\\n                description\\n                bookId\\n                image\\n                link\\n                title\\n            }\\n        }\\n    }\\n\"]))),G=Object(q.a)(s||(s=Object(N.a)([\"\\n    mutation removeBook($userId: ID!, $bookId: ID!) {\\n        removeBook(userId: $userId, bookId: $bookId) {\\n            _id\\n            username\\n            savedBooks {\\n                authors\\n                description\\n                bookId\\n                image\\n                link\\n                title\\n            }\\n        }\\n    }\\n\"]))),V=n(3),Y=function(){var e=Object(i.useState)([]),t=Object(v.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(\"\"),o=Object(v.a)(r,2),s=o[0],c=o[1],l=Object(i.useState)(localStorage.getItem(\"saved_books\")?JSON.parse(localStorage.getItem(\"saved_books\")):[]),d=Object(v.a)(l,2),u=d[0],j=d[1],b=Object(D.a)(U),h=Object(v.a)(b,2),O=h[0],m=h[1].error;Object(i.useEffect)((function(){return function(){var e;(e=u).length?localStorage.setItem(\"saved_books\",JSON.stringify(e)):localStorage.removeItem(\"saved_books\")}}));var B=function(){var e=Object(x.a)(Object(g.a)().mark((function e(t){var n,r,o,i;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s){e.next=3;break}return e.abrupt(\"return\",!1);case 3:return e.prev=3,e.next=6,fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(s));case 6:if((n=e.sent).ok){e.next=9;break}throw new Error(\"something went wrong!\");case 9:return e.next=11,n.json();case 11:r=e.sent,o=r.items,i=o.map((function(e){var t;return{bookId:e.id,authors:e.volumeInfo.authors||[\"No author to display\"],title:e.volumeInfo.title,description:e.volumeInfo.description,image:(null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.thumbnail)||\"\"}})),a(i),c(\"\"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),console.error(m);case 21:case\"end\":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(x.a)(Object(g.a)().mark((function e(t){var a,r;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.find((function(e){return e.bookId===t})),r=_.loggedIn()?_.getToken():null){e.next=4;break}return e.abrupt(\"return\",!1);case 4:return e.prev=4,e.next=7,O(a,r);case 7:if(e.sent.ok){e.next=10;break}throw new Error(\"something went wrong!\");case 10:j([].concat(Object(p.a)(u),[a.bookId])),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0);case 16:case\"end\":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(k.a,{fluid:!0,className:\"text-light bg-dark\",children:Object(V.jsxs)(f.a,{children:[Object(V.jsx)(\"h1\",{children:\"Search for Books!\"}),Object(V.jsx)(w.a,{onSubmit:B,children:Object(V.jsxs)(w.a.Row,{children:[Object(V.jsx)(I.a,{xs:12,md:8,children:Object(V.jsx)(w.a.Control,{name:\"searchInput\",value:s,onChange:function(e){return c(e.target.value)},type:\"text\",size:\"lg\",placeholder:\"Search for a book\"})}),Object(V.jsx)(I.a,{xs:12,md:4,children:Object(V.jsx)(S.a,{type:\"submit\",variant:\"success\",size:\"lg\",children:\"Submit Search\"})})]})})]})}),Object(V.jsxs)(f.a,{children:[Object(V.jsx)(\"h2\",{children:n.length?\"Viewing \".concat(n.length,\" results:\"):\"Search for a book to begin\"}),Object(V.jsx)(y.a,{children:n.map((function(e){return Object(V.jsxs)(C.a,{border:\"dark\",children:[e.image?Object(V.jsx)(C.a.Img,{src:e.image,alt:\"The cover for \".concat(e.title),variant:\"top\"}):null,Object(V.jsxs)(C.a.Body,{children:[Object(V.jsx)(C.a.Title,{children:e.title}),Object(V.jsxs)(\"p\",{className:\"small\",children:[\"Authors: \",e.authors]}),Object(V.jsx)(C.a.Text,{children:e.description}),_.loggedIn()&&Object(V.jsx)(S.a,{disabled:null===u||void 0===u?void 0:u.some((function(t){return t===e.bookId})),className:\"btn-block btn-info\",onClick:function(){return F(e.bookId)},children:null!==u&&void 0!==u&&u.some((function(t){return t===e.bookId}))?\"This book has already been saved!\":\"Save this Book!\"})]})]},e.bookId)}))})]})]})},J=n(33),K=n(135),A=Object(q.a)(c||(c=Object(N.a)([\"\\n  query me($userId: ID!) {\\n    user(userId: $userId) {\\n      _id\\n      username\\n      email\\n      savedBooks {\\n        authors\\n        description\\n        bookId\\n        image\\n        link\\n        title\\n      }\\n    }\\n  }\\n\"]))),z=function(){var e=_.getProfile().data._id;console.log(e);var t=Object(K.a)(A,{variables:{userId:e}});console.log(t);var n=t.data||[],a=Object(J.a)({},n.user);console.log(a.username);var r=Object(D.a)(G),o=Object(v.a)(r,2),s=o[0],c=(o[1].error,function(){var t=Object(x.a)(Object(g.a)().mark((function t(n){var r;return Object(g.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_.loggedIn()?_.getToken():null){t.next=3;break}return t.abrupt(\"return\",!1);case 3:return t.prev=3,t.next=6,s({variables:{userId:e,bookId:n}});case 6:r=t.sent,setUserState(Object(J.a)({},r.data.removeBook)),L(n),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.error(t.t0);case 14:if(a.username){t.next=16;break}return t.abrupt(\"return\",Object(V.jsx)(\"h2\",{children:\"LOADING...\"}));case 16:case\"end\":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}());return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(k.a,{fluid:!0,className:\"text-light bg-dark\",children:Object(V.jsx)(f.a,{children:Object(V.jsx)(\"h1\",{children:\"Viewing saved books!\"})})}),Object(V.jsxs)(f.a,{children:[Object(V.jsx)(\"h2\",{children:t.savedBooks.length?\"Viewing \".concat(t.savedBooks.length,\" saved \").concat(1===t.savedBooks.length?\"book\":\"books\",\":\"):\"You have no saved books!\"}),Object(V.jsx)(y.a,{children:t.savedBooks.map((function(e){return Object(V.jsxs)(C.a,{border:\"dark\",children:[e.image?Object(V.jsx)(C.a.Img,{src:e.image,alt:\"The cover for \".concat(e.title),variant:\"top\"}):null,Object(V.jsxs)(C.a.Body,{children:[Object(V.jsx)(C.a.Title,{children:e.title}),Object(V.jsxs)(\"p\",{className:\"small\",children:[\"Authors: \",e.authors]}),Object(V.jsx)(C.a.Text,{children:e.description}),Object(V.jsx)(S.a,{className:\"btn-block btn-danger\",onClick:function(){return c(e.bookId)},children:\"Delete this Book!\"})]})]},e.bookId)}))})]})]})},M=n(132),H=n(131),R=n(127),W=n(133),Q=n(51),X=n(123),Z=function(){var e=Object(i.useState)({username:\"\",email:\"\",password:\"\"}),t=Object(v.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(!1),o=Object(v.a)(r,1)[0],s=Object(i.useState)(!1),c=Object(v.a)(s,2),l=c[0],d=c[1],u=Object(D.a)(P),j=Object(v.a)(u,2),b=j[0],h=j[1],O=(h.error,h.data,function(e){var t=e.target,r=t.name,o=t.value;a(Object(J.a)(Object(J.a)({},n),{},Object(Q.a)({},r,o)))}),m=function(){var e=Object(x.a)(Object(g.a)().mark((function e(t){var r,o;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!1===t.currentTarget.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.prev=3,console.log(n.username),e.next=7,b({variables:{username:n.username,email:n.email,password:n.password}});case 7:r=e.sent,o=r.data,console.log(o),_.login(o.addUser.token),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),d(!0);case 17:a({username:\"\",email:\"\",password:\"\"});case 18:case\"end\":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(w.a,{noValidate:!0,validated:o,onSubmit:m,children:[Object(V.jsx)(X.a,{dismissible:!0,onClose:function(){return d(!1)},show:l,variant:\"danger\",children:\"Something went wrong with your signup!\"}),Object(V.jsxs)(w.a.Group,{children:[Object(V.jsx)(w.a.Label,{htmlFor:\"username\",children:\"Username\"}),Object(V.jsx)(w.a.Control,{type:\"text\",placeholder:\"Your username\",name:\"username\",onChange:O,value:n.username,required:!0}),Object(V.jsx)(w.a.Control.Feedback,{type:\"invalid\",children:\"Username is required!\"})]}),Object(V.jsxs)(w.a.Group,{children:[Object(V.jsx)(w.a.Label,{htmlFor:\"email\",children:\"Email\"}),Object(V.jsx)(w.a.Control,{type:\"email\",placeholder:\"Your email address\",name:\"email\",onChange:O,value:n.email,required:!0}),Object(V.jsx)(w.a.Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),Object(V.jsxs)(w.a.Group,{children:[Object(V.jsx)(w.a.Label,{htmlFor:\"password\",children:\"Password\"}),Object(V.jsx)(w.a.Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:O,value:n.password,required:!0}),Object(V.jsx)(w.a.Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),Object(V.jsx)(S.a,{disabled:!(n.username&&n.email&&n.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})})},ee=function(){var e=Object(i.useState)({email:\"\",password:\"\"}),t=Object(v.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(!1),o=Object(v.a)(r,1)[0],s=Object(i.useState)(!1),c=Object(v.a)(s,2),l=c[0],d=c[1],u=Object(D.a)(E),j=Object(v.a)(u,2),b=j[0],h=j[1].error;h&&console.log(h);var O=function(e){var t=e.target,r=t.name,o=t.value;a(Object(J.a)(Object(J.a)({},n),{},Object(Q.a)({},r,o)))},m=function(){var e=Object(x.a)(Object(g.a)().mark((function e(t){var r,o;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!1===t.currentTarget.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.prev=3,e.next=6,b({variables:{userFormData:n}});case 6:r=e.sent,o=r.data,_.login(o.login.token),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),d(!0);case 15:a({username:\"\",email:\"\",password:\"\"});case 16:case\"end\":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(w.a,{noValidate:!0,validated:o,onSubmit:m,children:[Object(V.jsx)(X.a,{dismissible:!0,onClose:function(){return d(!1)},show:l,variant:\"danger\",children:\"Something went wrong with your login credentials!\"}),Object(V.jsxs)(w.a.Group,{children:[Object(V.jsx)(w.a.Label,{htmlFor:\"email\",children:\"Email\"}),Object(V.jsx)(w.a.Control,{type:\"text\",placeholder:\"Your email\",name:\"email\",onChange:O,value:n.email,required:!0}),Object(V.jsx)(w.a.Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),Object(V.jsxs)(w.a.Group,{children:[Object(V.jsx)(w.a.Label,{htmlFor:\"password\",children:\"Password\"}),Object(V.jsx)(w.a.Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:O,value:n.password,required:!0}),Object(V.jsx)(w.a.Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),Object(V.jsx)(S.a,{disabled:!(n.email&&n.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})})},te=function(){var e=Object(i.useState)(!1),t=Object(v.a)(e,2),n=t[0],a=t[1];return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(M.a,{bg:\"dark\",variant:\"dark\",expand:\"lg\",children:Object(V.jsxs)(f.a,{fluid:!0,children:[Object(V.jsx)(M.a.Brand,{as:O.b,to:\"/\",children:\"Google Books Search\"}),Object(V.jsx)(M.a.Toggle,{\"aria-controls\":\"navbar\"}),Object(V.jsx)(M.a.Collapse,{id:\"navbar\",children:Object(V.jsxs)(H.a,{className:\"ml-auto\",children:[Object(V.jsx)(H.a.Link,{as:O.b,to:\"/\",children:\"Search For Books\"}),_.loggedIn()?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(H.a.Link,{as:O.b,to:\"/saved\",children:\"See Your Books\"}),Object(V.jsx)(H.a.Link,{onClick:_.logout,children:\"Logout\"})]}):Object(V.jsx)(H.a.Link,{onClick:function(){return a(!0)},children:\"Login/Sign Up\"})]})})]})}),Object(V.jsx)(R.a,{size:\"lg\",show:n,onHide:function(){return a(!1)},\"aria-labelledby\":\"signup-modal\",children:Object(V.jsxs)(W.a.Container,{defaultActiveKey:\"login\",children:[Object(V.jsx)(R.a.Header,{closeButton:!0,children:Object(V.jsx)(R.a.Title,{id:\"signup-modal\",children:Object(V.jsxs)(H.a,{variant:\"pills\",children:[Object(V.jsx)(H.a.Item,{children:Object(V.jsx)(H.a.Link,{eventKey:\"login\",children:\"Login\"})}),Object(V.jsx)(H.a.Item,{children:Object(V.jsx)(H.a.Link,{eventKey:\"signup\",children:\"Sign Up\"})})]})})}),Object(V.jsx)(R.a.Body,{children:Object(V.jsxs)(W.a.Content,{children:[Object(V.jsx)(W.a.Pane,{eventKey:\"login\",children:Object(V.jsx)(ee,{handleModalClose:function(){return a(!1)}})}),Object(V.jsx)(W.a.Pane,{eventKey:\"signup\",children:Object(V.jsx)(Z,{handleModalClose:function(){return a(!1)}})})]})})]})})]})},ne=new j.a({uri:\"/graphql\",cache:new b.a});var ae=function(){return Object(V.jsx)(h.a,{client:ne,children:Object(V.jsx)(O.a,{children:Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(te,{}),Object(V.jsxs)(m.c,{children:[Object(V.jsx)(m.a,{path:\"/\",element:Object(V.jsx)(Y,{})}),Object(V.jsx)(m.a,{path:\"/saved\",element:Object(V.jsx)(z,{})}),Object(V.jsx)(m.a,{path:\"*\",element:Object(V.jsx)(\"h1\",{className:\"display-2\",children:\"Wrong page!\"})})]})]})})})};u.a.render(Object(V.jsx)(l.a.StrictMode,{children:Object(V.jsx)(ae,{})}),document.getElementById(\"root\"))}},[[110,1,2]]]);","name":"static/js/main.3292914e.chunk.js","map":{"version":3,"sources":["static/js/main.3292914e.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","_templateObject","_templateObject2","_templateObject3","_templateObject4","queries_templateObject","react","react_default","n","react_dom","react_dom_default","ApolloClient","inMemoryCache","ApolloProvider","react_router_dom","react_router","toConsumableArray","regeneratorRuntime","asyncToGenerator","slicedToArray","Jumbotron","Container","Form","Col","Button","CardColumns","Card","classCallCheck","createClass","lib","lib_default","auth","AuthService","Object","key","value","getToken","token","isTokenExpired","exp","Date","now","localStorage","removeItem","err","getItem","idToken","setItem","window","location","assign","reload","removeBookId","bookId","savedBookIds","JSON","parse","updatedSavedBookIds","filter","savedBookId","stringify","useMutation","taggedTemplateLiteral","graphql_tag_lib","LOGIN_USER","ADD_USER","SAVE_BOOK","REMOVE_BOOK","jsx_runtime","pages_SearchBooks","_useState","_useState2","searchedBooks","setSearchedBooks","_useState3","_useState4","searchInput","setSearchInput","_useState5","_useState6","setSavedBookIds","_useMutation","_useMutation2","saveBook","error","bookIdArr","length","handleFormSubmit","_ref","mark","_callee","event","response","_yield$response$json","items","bookData","wrap","_context","prev","next","preventDefault","abrupt","fetch","concat","sent","ok","Error","json","map","book","_book$volumeInfo$imag","id","authors","volumeInfo","title","description","image","imageLinks","thumbnail","t0","console","stop","_x","apply","arguments","handleSaveBook","_ref2","_callee2","bookToSave","_context2","find","loggedIn","_x2","children","fluid","className","onSubmit","Row","xs","md","Control","name","onChange","e","target","type","size","placeholder","variant","border","Img","src","alt","Body","Title","Text","disabled","some","onClick","objectSpread2","useQuery","GET_ME","pages_SavedBooks","userId","getProfile","data","_id","log","userData","variables","spread","user","username","removeBook","handleDeleteBook","setUserState","savedBooks","Navbar","Nav","Modal","Tab","defineProperty","Alert","components_SignupForm","email","password","userFormData","setUserFormData","validated","showAlert","setShowAlert","addUser","_useMutation2$","handleInputChange","_event$target","_yield$addUser","_data","currentTarget","checkValidity","stopPropagation","login","noValidate","dismissible","onClose","show","Group","Label","htmlFor","required","Feedback","components_LoginForm","loginUser","_yield$loginUser","components_Navbar","showModal","setShowModal","bg","expand","Brand","as","to","Toggle","Collapse","Link","logout","onHide","defaultActiveKey","Header","closeButton","Item","eventKey","Content","Pane","handleModalClose","client","uri","cache","src_App","path","element","a","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(39);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(102);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/core/ApolloClient.js + 28 modules\nvar ApolloClient = __webpack_require__(126);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/cache/inmemory/inMemoryCache.js + 8 modules\nvar inMemoryCache = __webpack_require__(130);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/context/ApolloProvider.js\nvar ApolloProvider = __webpack_require__(125);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/index.js + 1 modules\nvar react_router_dom = __webpack_require__(54);\n\n// EXTERNAL MODULE: ./node_modules/react-router/index.js\nvar react_router = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(93);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js + 1 modules\nvar regeneratorRuntime = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Jumbotron.js\nvar Jumbotron = __webpack_require__(118);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Container.js\nvar Container = __webpack_require__(119);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Form.js + 13 modules\nvar Form = __webpack_require__(128);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Col.js\nvar Col = __webpack_require__(90);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js\nvar Button = __webpack_require__(120);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/CardColumns.js\nvar CardColumns = __webpack_require__(121);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Card.js + 1 modules\nvar Card = __webpack_require__(134);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(88);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(89);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/lib/index.js\nvar lib = __webpack_require__(77);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// CONCATENATED MODULE: ./src/utils/auth.js\n// use this to decode a token and get the user's information out of it\n// create a new class to instantiate for a user\nvar auth_AuthService=/*#__PURE__*/function(){function AuthService(){Object(classCallCheck[\"a\" /* default */])(this,AuthService);}Object(createClass[\"a\" /* default */])(AuthService,[{key:\"getProfile\",value:// get user data\nfunction getProfile(){return lib_default()(this.getToken());}// check if user's logged in\n},{key:\"loggedIn\",value:function loggedIn(){// Checks if there is a saved token and it's still valid\nvar token=this.getToken();return token&&!this.isTokenExpired(token);// handwaiving here\n}// check if token is expired\n},{key:\"isTokenExpired\",value:function isTokenExpired(token){try{var decoded=lib_default()(token);if(decoded.exp<Date.now()/1000){localStorage.removeItem('id_token');return true;}else return false;}catch(err){return false;}}},{key:\"getToken\",value:function getToken(){// Retrieves the user token from localStorage\nreturn localStorage.getItem('id_token');}},{key:\"login\",value:function login(idToken){// Saves user token to localStorage\nlocalStorage.setItem('id_token',idToken);window.location.assign('/');}},{key:\"logout\",value:function logout(){// Clear user token and profile data from localStorage\nlocalStorage.removeItem('id_token');// this will reload the page and reset the state of the application\nwindow.location.reload();}}]);return AuthService;}();/* harmony default export */ var auth = (new auth_AuthService());\n// CONCATENATED MODULE: ./src/utils/localStorage.js\nvar getSavedBookIds=function getSavedBookIds(){var savedBookIds=localStorage.getItem('saved_books')?JSON.parse(localStorage.getItem('saved_books')):[];return savedBookIds;};var saveBookIds=function saveBookIds(bookIdArr){if(bookIdArr.length){localStorage.setItem('saved_books',JSON.stringify(bookIdArr));}else{localStorage.removeItem('saved_books');}};var removeBookId=function removeBookId(bookId){var savedBookIds=localStorage.getItem('saved_books')?JSON.parse(localStorage.getItem('saved_books')):null;if(!savedBookIds){return false;}var updatedSavedBookIds=savedBookIds===null||savedBookIds===void 0?void 0:savedBookIds.filter(function(savedBookId){return savedBookId!==bookId;});localStorage.setItem('saved_books',JSON.stringify(updatedSavedBookIds));return true;};\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useMutation.js\nvar useMutation = __webpack_require__(117);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(44);\n\n// EXTERNAL MODULE: ./node_modules/graphql-tag/lib/index.js + 10 modules\nvar graphql_tag_lib = __webpack_require__(129);\n\n// CONCATENATED MODULE: ./src/utils/mutations.js\nvar _templateObject,_templateObject2,_templateObject3,_templateObject4;var LOGIN_USER=Object(graphql_tag_lib[\"a\" /* gql */])(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    mutation loginUser($email: String!, $password: String!) {\\n        login(email: $email, password: $password) {\\n            token\\n            user {\\n                _id\\n                username\\n            }\\n        }\\n    }\\n\"])));var ADD_USER=Object(graphql_tag_lib[\"a\" /* gql */])(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    mutation addUser($username: String!, $email: String!, $password: String!) {\\n        addUser(username: $username, email: $email, password: $password) {\\n            token\\n            user {\\n                _id\\n                username\\n            }\\n        }\\n    }\\n\"])));var SAVE_BOOK=Object(graphql_tag_lib[\"a\" /* gql */])(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    mutation saveBook($bookData: BookInput!) {\\n        saveBook(bookData: $bookData) {\\n        _id\\n        username\\n        email\\n        savedBooks {\\n                authors\\n                description\\n                bookId\\n                image\\n                link\\n                title\\n            }\\n        }\\n    }\\n\"])));var REMOVE_BOOK=Object(graphql_tag_lib[\"a\" /* gql */])(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    mutation removeBook($userId: ID!, $bookId: ID!) {\\n        removeBook(userId: $userId, bookId: $bookId) {\\n            _id\\n            username\\n            savedBooks {\\n                authors\\n                description\\n                bookId\\n                image\\n                link\\n                title\\n            }\\n        }\\n    }\\n\"])));\n// CONCATENATED MODULE: ./src/utils/API.js\nvar searchGoogleBooks=function searchGoogleBooks(query){return fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(query));};\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/pages/SearchBooks.js\nvar SearchBooks_SearchBooks=function SearchBooks(){// create state for holding returned google api data\nvar _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchedBooks=_useState2[0],setSearchedBooks=_useState2[1];// create state for holding our search field data\nvar _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),searchInput=_useState4[0],setSearchInput=_useState4[1];// create state to hold saved bookId values\nvar _useState5=Object(react[\"useState\"])(getSavedBookIds()),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),savedBookIds=_useState6[0],setSavedBookIds=_useState6[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(SAVE_BOOK),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),saveBook=_useMutation2[0],error=_useMutation2[1].error;// set up useEffect hook to save `savedBookIds` list to localStorage on component unmount\n// learn more here: https://reactjs.org/docs/hooks-effect.html#effects-with-cleanup\nObject(react[\"useEffect\"])(function(){return function(){return saveBookIds(savedBookIds);};});// create method to search for books and set state on form submit\nvar handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var response,_yield$response$json,items,bookData;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(searchInput){_context.next=3;break;}return _context.abrupt(\"return\",false);case 3:_context.prev=3;_context.next=6;return searchGoogleBooks(searchInput);case 6:response=_context.sent;if(response.ok){_context.next=9;break;}throw new Error('something went wrong!');case 9:_context.next=11;return response.json();case 11:_yield$response$json=_context.sent;items=_yield$response$json.items;bookData=items.map(function(book){var _book$volumeInfo$imag;return{bookId:book.id,authors:book.volumeInfo.authors||['No author to display'],title:book.volumeInfo.title,description:book.volumeInfo.description,image:((_book$volumeInfo$imag=book.volumeInfo.imageLinks)===null||_book$volumeInfo$imag===void 0?void 0:_book$volumeInfo$imag.thumbnail)||''};});setSearchedBooks(bookData);setSearchInput('');_context.next=21;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](3);console.error(error);case 21:case\"end\":return _context.stop();}}},_callee,null,[[3,18]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();// create function to handle saving a book to our database\nvar handleSaveBook=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(bookId){var bookToSave,token,response;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// find the book in `searchedBooks` state by the matching id\nbookToSave=searchedBooks.find(function(book){return book.bookId===bookId;});// get token\ntoken=auth.loggedIn()?auth.getToken():null;if(token){_context2.next=4;break;}return _context2.abrupt(\"return\",false);case 4:_context2.prev=4;_context2.next=7;return saveBook(bookToSave,token);case 7:response=_context2.sent;if(response.ok){_context2.next=10;break;}throw new Error('something went wrong!');case 10:// if book successfully saves to user's account, save book id to state\nsetSavedBookIds([].concat(Object(toConsumableArray[\"a\" /* default */])(savedBookIds),[bookToSave.bookId]));_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](4);console.error(_context2.t0);case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[4,13]]);}));return function handleSaveBook(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Jumbotron[\"a\" /* default */],{fluid:true,className:\"text-light bg-dark\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Search for Books!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */],{onSubmit:handleFormSubmit,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Row,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{xs:12,md:8,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{name:\"searchInput\",value:searchInput,onChange:function onChange(e){return setSearchInput(e.target.value);},type:\"text\",size:\"lg\",placeholder:\"Search for a book\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{xs:12,md:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",variant:\"success\",size:\"lg\",children:\"Submit Search\"})})]})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:searchedBooks.length?\"Viewing \".concat(searchedBooks.length,\" results:\"):'Search for a book to begin'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardColumns[\"a\" /* default */],{children:searchedBooks.map(function(book){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{border:\"dark\",children:[book.image?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Img,{src:book.image,alt:\"The cover for \".concat(book.title),variant:\"top\"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */].Body,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Title,{children:book.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"small\",children:[\"Authors: \",book.authors]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Text,{children:book.description}),auth.loggedIn()&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:savedBookIds===null||savedBookIds===void 0?void 0:savedBookIds.some(function(savedBookId){return savedBookId===book.bookId;}),className:\"btn-block btn-info\",onClick:function onClick(){return handleSaveBook(book.bookId);},children:savedBookIds!==null&&savedBookIds!==void 0&&savedBookIds.some(function(savedBookId){return savedBookId===book.bookId;})?'This book has already been saved!':'Save this Book!'})]})]},book.bookId);})})]})]});};/* harmony default export */ var pages_SearchBooks = (SearchBooks_SearchBooks);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useQuery.js + 1 modules\nvar useQuery = __webpack_require__(135);\n\n// CONCATENATED MODULE: ./src/utils/queries.js\nvar queries_templateObject;var GET_ME=Object(graphql_tag_lib[\"a\" /* gql */])(queries_templateObject||(queries_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query me($userId: ID!) {\\n    user(userId: $userId) {\\n      _id\\n      username\\n      email\\n      savedBooks {\\n        authors\\n        description\\n        bookId\\n        image\\n        link\\n        title\\n      }\\n    }\\n  }\\n\"])));\n// CONCATENATED MODULE: ./src/pages/SavedBooks.js\nvar SavedBooks_SavedBooks=function SavedBooks(){var profileData=auth.getProfile();var userId=profileData.data._id;console.log(userId);var userData=Object(useQuery[\"a\" /* useQuery */])(GET_ME,{variables:{userId:userId}});console.log(userData);var data=userData.data||[];var spread=Object(objectSpread2[\"a\" /* default */])({},data.user);console.log(spread.username);var _useMutation=Object(useMutation[\"a\" /* useMutation */])(REMOVE_BOOK),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),removeBook=_useMutation2[0],error=_useMutation2[1].error;var handleDeleteBook=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(bookId){var token,response;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=auth.loggedIn()?auth.getToken():null;if(token){_context.next=3;break;}return _context.abrupt(\"return\",false);case 3:_context.prev=3;_context.next=6;return removeBook({variables:{userId:userId,bookId:bookId}});case 6:response=_context.sent;setUserState(Object(objectSpread2[\"a\" /* default */])({},response.data.removeBook));// update state\nremoveBookId(bookId);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](3);console.error(_context.t0);case 14:if(spread.username){_context.next=16;break;}return _context.abrupt(\"return\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"LOADING...\"}));case 16:case\"end\":return _context.stop();}}},_callee,null,[[3,11]]);}));return function handleDeleteBook(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Jumbotron[\"a\" /* default */],{fluid:true,className:\"text-light bg-dark\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Viewing saved books!\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:userData.savedBooks.length?\"Viewing \".concat(userData.savedBooks.length,\" saved \").concat(userData.savedBooks.length===1?'book':'books',\":\"):'You have no saved books!'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardColumns[\"a\" /* default */],{children:userData.savedBooks.map(function(book){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{border:\"dark\",children:[book.image?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Img,{src:book.image,alt:\"The cover for \".concat(book.title),variant:\"top\"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */].Body,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Title,{children:book.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"small\",children:[\"Authors: \",book.authors]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Text,{children:book.description}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"btn-block btn-danger\",onClick:function onClick(){return handleDeleteBook(book.bookId);},children:\"Delete this Book!\"})]})]},book.bookId);})})]})]});};/* harmony default export */ var pages_SavedBooks = (SavedBooks_SavedBooks);\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Navbar.js + 4 modules\nvar Navbar = __webpack_require__(132);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Nav.js + 7 modules\nvar Nav = __webpack_require__(131);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Modal.js + 22 modules\nvar Modal = __webpack_require__(127);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Tab.js + 3 modules\nvar Tab = __webpack_require__(133);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(51);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Alert.js\nvar Alert = __webpack_require__(123);\n\n// CONCATENATED MODULE: ./src/components/SignupForm.js\nvar SignupForm_SignupForm=function SignupForm(){// set initial form state\nvar _useState=Object(react[\"useState\"])({username:'',email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userFormData=_useState2[0],setUserFormData=_useState2[1];// set state for form validation\nvar _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,1),validated=_useState4[0];// set state for alert\nvar _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),showAlert=_useState6[0],setShowAlert=_useState6[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(ADD_USER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),addUser=_useMutation2[0],_useMutation2$=_useMutation2[1],error=_useMutation2$.error,data=_useMutation2$.data;var handleInputChange=function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setUserFormData(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},userFormData),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var form,_yield$addUser,_data;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();// check if form has everything (as per react-bootstrap docs)\nform=event.currentTarget;if(form.checkValidity()===false){event.preventDefault();event.stopPropagation();}_context.prev=3;console.log(userFormData.username);_context.next=7;return addUser({variables:{username:userFormData.username,email:userFormData.email,password:userFormData.password}});case 7:_yield$addUser=_context.sent;_data=_yield$addUser.data;console.log(_data);auth.login(_data.addUser.token);_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](3);console.error(_context.t0);setShowAlert(true);case 17:setUserFormData({username:'',email:'',password:''});case 18:case\"end\":return _context.stop();}}},_callee,null,[[3,13]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{noValidate:true,validated:validated,onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{dismissible:true,onClose:function onClose(){return setShowAlert(false);},show:showAlert,variant:\"danger\",children:\"Something went wrong with your signup!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"text\",placeholder:\"Your username\",name:\"username\",onChange:handleInputChange,value:userFormData.username,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Username is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"email\",placeholder:\"Your email address\",name:\"email\",onChange:handleInputChange,value:userFormData.email,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:handleInputChange,value:userFormData.password,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:!(userFormData.username&&userFormData.email&&userFormData.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})});};/* harmony default export */ var components_SignupForm = (SignupForm_SignupForm);\n// CONCATENATED MODULE: ./src/components/LoginForm.js\n// see SignupForm.js for comments\nvar LoginForm_LoginForm=function LoginForm(){var _useState=Object(react[\"useState\"])({email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userFormData=_useState2[0],setUserFormData=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,1),validated=_useState4[0];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),showAlert=_useState6[0],setShowAlert=_useState6[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(LOGIN_USER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),loginUser=_useMutation2[0],error=_useMutation2[1].error;if(error){console.log(error);}var handleInputChange=function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setUserFormData(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},userFormData),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var form,_yield$loginUser,data;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();// check if form has everything (as per react-bootstrap docs)\nform=event.currentTarget;if(form.checkValidity()===false){event.preventDefault();event.stopPropagation();}_context.prev=3;_context.next=6;return loginUser({variables:{userFormData:userFormData}});case 6:_yield$loginUser=_context.sent;data=_yield$loginUser.data;auth.login(data.login.token);_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](3);console.error(_context.t0);setShowAlert(true);case 15:setUserFormData({username:'',email:'',password:''});case 16:case\"end\":return _context.stop();}}},_callee,null,[[3,11]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{noValidate:true,validated:validated,onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{dismissible:true,onClose:function onClose(){return setShowAlert(false);},show:showAlert,variant:\"danger\",children:\"Something went wrong with your login credentials!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"text\",placeholder:\"Your email\",name:\"email\",onChange:handleInputChange,value:userFormData.email,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:handleInputChange,value:userFormData.password,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:!(userFormData.email&&userFormData.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})});};/* harmony default export */ var components_LoginForm = (LoginForm_LoginForm);\n// CONCATENATED MODULE: ./src/components/Navbar.js\nvar Navbar_AppNavbar=function AppNavbar(){// set modal display state\nvar _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */],{bg:\"dark\",variant:\"dark\",expand:\"lg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{fluid:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Brand,{as:react_router_dom[\"b\" /* Link */],to:\"/\",children:\"Google Books Search\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Toggle,{\"aria-controls\":\"navbar\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Collapse,{id:\"navbar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Nav[\"a\" /* default */],{className:\"ml-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{as:react_router_dom[\"b\" /* Link */],to:\"/\",children:\"Search For Books\"}),auth.loggedIn()?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{as:react_router_dom[\"b\" /* Link */],to:\"/saved\",children:\"See Your Books\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{onClick:auth.logout,children:\"Logout\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{onClick:function onClick(){return setShowModal(true);},children:\"Login/Sign Up\"})]})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */],{size:\"lg\",show:showModal,onHide:function onHide(){return setShowModal(false);},\"aria-labelledby\":\"signup-modal\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */].Container,{defaultActiveKey:\"login\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{closeButton:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Title,{id:\"signup-modal\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Nav[\"a\" /* default */],{variant:\"pills\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{eventKey:\"login\",children:\"Login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{eventKey:\"signup\",children:\"Sign Up\"})})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Body,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */].Content,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */].Pane,{eventKey:\"login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_LoginForm,{handleModalClose:function handleModalClose(){return setShowModal(false);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */].Pane,{eventKey:\"signup\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SignupForm,{handleModalClose:function handleModalClose(){return setShowModal(false);}})})]})})]})})]});};/* harmony default export */ var components_Navbar = (Navbar_AppNavbar);\n// CONCATENATED MODULE: ./src/App.js\nvar client=new ApolloClient[\"a\" /* ApolloClient */]({uri:'/graphql',cache:new inMemoryCache[\"a\" /* InMemoryCache */]()});function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ApolloProvider[\"a\" /* ApolloProvider */],{client:client,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Navbar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_SearchBooks,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/saved\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_SavedBooks,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"*\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"display-2\",children:\"Wrong page!\"})})]})]})})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[110,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/node_modules/postcss-loader/src/index.js??postcss!/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/src/index.css","/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/src/utils/auth.js","/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/src/utils/localStorage.js","/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/src/utils/mutations.js","/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/src/utils/API.js","/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/src/pages/SearchBooks.js","/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/src/utils/queries.js","/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/src/pages/SavedBooks.js","/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/src/components/SignupForm.js","/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/src/components/LoginForm.js","/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/src/components/Navbar.js","/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/src/App.js","/Users/dennisdowner/Documents/GT_Bootcamp/21-MERN/Book-Search-Engine/client/src/index.js"],"names":["AuthService","decode","getToken","token","isTokenExpired","decoded","exp","Date","now","localStorage","removeItem","err","getItem","idToken","setItem","window","location","assign","reload","getSavedBookIds","savedBookIds","JSON","parse","saveBookIds","bookIdArr","length","stringify","removeBookId","bookId","updatedSavedBookIds","filter","savedBookId","LOGIN_USER","gql","ADD_USER","SAVE_BOOK","REMOVE_BOOK","searchGoogleBooks","query","fetch","SearchBooks","useState","searchedBooks","setSearchedBooks","searchInput","setSearchInput","setSavedBookIds","useMutation","saveBook","error","useEffect","handleFormSubmit","event","preventDefault","response","ok","Error","json","items","bookData","map","book","id","authors","volumeInfo","title","description","image","imageLinks","thumbnail","console","handleSaveBook","bookToSave","find","Auth","loggedIn","e","target","value","some","GET_ME","SavedBooks","profileData","getProfile","userId","data","_id","log","userData","useQuery","variables","spread","user","username","removeBook","handleDeleteBook","setUserState","savedBooks","SignupForm","email","password","userFormData","setUserFormData","validated","showAlert","setShowAlert","addUser","handleInputChange","name","form","currentTarget","checkValidity","stopPropagation","login","LoginForm","loginUser","AppNavbar","showModal","setShowModal","Link","logout","client","ApolloClient","uri","cache","InMemoryCache","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// use this to decode a token and get the user's information out of it\nimport decode from 'jwt-decode';\n\n// create a new class to instantiate for a user\nclass AuthService {\n  // get user data\n  getProfile() {\n    return decode(this.getToken());\n  }\n\n  // check if user's logged in\n  loggedIn() {\n    // Checks if there is a saved token and it's still valid\n    const token = this.getToken();\n    return token && !this.isTokenExpired(token); // handwaiving here\n  }\n\n  // check if token is expired\n  isTokenExpired(token) {\n    try {\n      const decoded = decode(token);\n      if (decoded.exp < Date.now() / 1000) {\n        localStorage.removeItem('id_token');\n        return true;\n      } else return false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  getToken() {\n    // Retrieves the user token from localStorage\n    return localStorage.getItem('id_token');\n  }\n\n  login(idToken) {\n    // Saves user token to localStorage\n    localStorage.setItem('id_token', idToken);\n    window.location.assign('/');\n  }\n\n  logout() {\n    // Clear user token and profile data from localStorage\n    localStorage.removeItem('id_token');\n    // this will reload the page and reset the state of the application\n    window.location.reload();\n  }\n}\n\nexport default new AuthService();\n","export const getSavedBookIds = () => {\n  const savedBookIds = localStorage.getItem('saved_books')\n    ? JSON.parse(localStorage.getItem('saved_books'))\n    : [];\n\n  return savedBookIds;\n};\n\nexport const saveBookIds = (bookIdArr) => {\n  if (bookIdArr.length) {\n    localStorage.setItem('saved_books', JSON.stringify(bookIdArr));\n  } else {\n    localStorage.removeItem('saved_books');\n  }\n};\n\nexport const removeBookId = (bookId) => {\n  const savedBookIds = localStorage.getItem('saved_books')\n    ? JSON.parse(localStorage.getItem('saved_books'))\n    : null;\n\n  if (!savedBookIds) {\n    return false;\n  }\n\n  const updatedSavedBookIds = savedBookIds?.filter((savedBookId) => savedBookId !== bookId);\n  localStorage.setItem('saved_books', JSON.stringify(updatedSavedBookIds));\n\n  return true;\n};\n","import { gql } from '@apollo/client';\n\nexport const LOGIN_USER = gql`\n    mutation loginUser($email: String!, $password: String!) {\n        login(email: $email, password: $password) {\n            token\n            user {\n                _id\n                username\n            }\n        }\n    }\n`;\n\nexport const ADD_USER = gql`\n    mutation addUser($username: String!, $email: String!, $password: String!) {\n        addUser(username: $username, email: $email, password: $password) {\n            token\n            user {\n                _id\n                username\n            }\n        }\n    }\n`;\n\nexport const SAVE_BOOK = gql`\n    mutation saveBook($bookData: BookInput!) {\n        saveBook(bookData: $bookData) {\n        _id\n        username\n        email\n        savedBooks {\n                authors\n                description\n                bookId\n                image\n                link\n                title\n            }\n        }\n    }\n`;\n\nexport const REMOVE_BOOK = gql`\n    mutation removeBook($userId: ID!, $bookId: ID!) {\n        removeBook(userId: $userId, bookId: $bookId) {\n            _id\n            username\n            savedBooks {\n                authors\n                description\n                bookId\n                image\n                link\n                title\n            }\n        }\n    }\n`;","export const searchGoogleBooks = (query) => {\n  return fetch(`https://www.googleapis.com/books/v1/volumes?q=${query}`);\n};\n","import React, { useState, useEffect } from 'react';\nimport { Jumbotron, Container, Col, Form, Button, Card, CardColumns } from 'react-bootstrap';\nimport Auth from '../utils/auth';\nimport { saveBookIds, getSavedBookIds } from '../utils/localStorage';\nimport { useMutation } from '@apollo/client';\nimport { SAVE_BOOK } from '../utils/mutations';\nimport { searchGoogleBooks } from '../utils/API';\n\nconst SearchBooks = () => {\n  // create state for holding returned google api data\n  const [searchedBooks, setSearchedBooks] = useState([]);\n  // create state for holding our search field data\n  const [searchInput, setSearchInput] = useState('');\n\n  // create state to hold saved bookId values\n  const [savedBookIds, setSavedBookIds] = useState(getSavedBookIds());\n  const [saveBook, { error }] = useMutation(SAVE_BOOK);\n\n  // set up useEffect hook to save `savedBookIds` list to localStorage on component unmount\n  // learn more here: https://reactjs.org/docs/hooks-effect.html#effects-with-cleanup\n  useEffect(() => {\n    return () => saveBookIds(savedBookIds);\n  });\n\n  // create method to search for books and set state on form submit\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    if (!searchInput) {\n      return false;\n    }\n\n    try {\n      const response = await searchGoogleBooks(searchInput);\n\n      if (!response.ok) {\n        throw new Error('something went wrong!');\n      }\n\n      const { items } = await response.json();\n\n      const bookData = items.map((book) => ({\n        bookId: book.id,\n        authors: book.volumeInfo.authors || ['No author to display'],\n        title: book.volumeInfo.title,\n        description: book.volumeInfo.description,\n        image: book.volumeInfo.imageLinks?.thumbnail || '',\n      }));\n\n      setSearchedBooks(bookData);\n      setSearchInput('');\n    } catch (err) {\n      console.error(error);\n    }\n  };\n\n  // create function to handle saving a book to our database\n  const handleSaveBook = async (bookId) => {\n    // find the book in `searchedBooks` state by the matching id\n    const bookToSave = searchedBooks.find((book) => book.bookId === bookId);\n\n    // get token\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\n\n    if (!token) {\n      return false;\n    }\n\n    try {\n      const response = await saveBook(bookToSave, token);\n\n      if (!response.ok) {\n        throw new Error('something went wrong!');\n      }\n\n      // if book successfully saves to user's account, save book id to state\n      setSavedBookIds([...savedBookIds, bookToSave.bookId]);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <>\n      <Jumbotron fluid className='text-light bg-dark'>\n        <Container>\n          <h1>Search for Books!</h1>\n          <Form onSubmit={handleFormSubmit}>\n            <Form.Row>\n              <Col xs={12} md={8}>\n                <Form.Control\n                  name='searchInput'\n                  value={searchInput}\n                  onChange={(e) => setSearchInput(e.target.value)}\n                  type='text'\n                  size='lg'\n                  placeholder='Search for a book'\n                />\n              </Col>\n              <Col xs={12} md={4}>\n                <Button type='submit' variant='success' size='lg'>\n                  Submit Search\n                </Button>\n              </Col>\n            </Form.Row>\n          </Form>\n        </Container>\n      </Jumbotron>\n\n      <Container>\n        <h2>\n          {searchedBooks.length\n            ? `Viewing ${searchedBooks.length} results:`\n            : 'Search for a book to begin'}\n        </h2>\n        <CardColumns>\n          {searchedBooks.map((book) => {\n            return (\n              <Card key={book.bookId} border='dark'>\n                {book.image ? (\n                  <Card.Img src={book.image} alt={`The cover for ${book.title}`} variant='top' />\n                ) : null}\n                <Card.Body>\n                  <Card.Title>{book.title}</Card.Title>\n                  <p className='small'>Authors: {book.authors}</p>\n                  <Card.Text>{book.description}</Card.Text>\n                  {Auth.loggedIn() && (\n                    <Button\n                      disabled={savedBookIds?.some((savedBookId) => savedBookId === book.bookId)}\n                      className='btn-block btn-info'\n                      onClick={() => handleSaveBook(book.bookId)}>\n                      {savedBookIds?.some((savedBookId) => savedBookId === book.bookId)\n                        ? 'This book has already been saved!'\n                        : 'Save this Book!'}\n                    </Button>\n                  )}\n                </Card.Body>\n              </Card>\n            );\n          })}\n        </CardColumns>\n      </Container>\n    </>\n  );\n};\n\nexport default SearchBooks;\n","import { gql } from '@apollo/client';\n\nexport const GET_ME = gql`\n  query me($userId: ID!) {\n    user(userId: $userId) {\n      _id\n      username\n      email\n      savedBooks {\n        authors\n        description\n        bookId\n        image\n        link\n        title\n      }\n    }\n  }\n`;","import React, { useState } from 'react';\nimport { Jumbotron, Container, CardColumns, Card, Button } from 'react-bootstrap';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { GET_ME } from '../utils/queries';\nimport { REMOVE_BOOK } from '../utils/mutations';\nimport { removeBookId } from '../utils/localStorage';\nimport Auth from \"../utils/auth\";\n\nconst SavedBooks = () => {\n  const profileData = Auth.getProfile();\n  const userId = profileData.data._id;\n  console.log(userId);\n\n  const userData = useQuery(GET_ME, {variables: {userId: userId}});\n  console.log(userData);\n  const data = userData.data || [];\n  const spread = {...data.user};\n\n  console.log(spread.username);\n  const [removeBook, {error}] = useMutation(REMOVE_BOOK);\n\n  const handleDeleteBook =async (bookId) => {\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\n\n    if (!token) {\n      return false;\n    }\n    \n    try {\n      const response = await removeBook({ variables: { userId: userId, bookId: bookId } });\n  \n    setUserState({ ...response.data.removeBook }); // update state\n    removeBookId(bookId);\n  } catch (err) {\n    console.error(err);\n  }\n\n  // if data isn't here yet, say so\n  if (!spread.username) {\n    return <h2>LOADING...</h2>;\n    }\n  }\n\n  return (\n    <>\n      <Jumbotron fluid className='text-light bg-dark'>\n        <Container>\n          <h1>Viewing saved books!</h1>\n        </Container>\n      </Jumbotron>\n      <Container>\n        <h2>\n          {userData.savedBooks.length\n            ? `Viewing ${userData.savedBooks.length} saved ${userData.savedBooks.length === 1 ? 'book' : 'books'}:`\n            : 'You have no saved books!'}\n        </h2>\n        <CardColumns>\n          {userData.savedBooks.map((book) => {\n            return (\n              <Card key={book.bookId} border='dark'>\n                {book.image ? <Card.Img src={book.image} alt={`The cover for ${book.title}`} variant='top' /> : null}\n                <Card.Body>\n                  <Card.Title>{book.title}</Card.Title>\n                  <p className='small'>Authors: {book.authors}</p>\n                  <Card.Text>{book.description}</Card.Text>\n                  <Button className='btn-block btn-danger' onClick={() => handleDeleteBook(book.bookId)}>\n                    Delete this Book!\n                  </Button>\n                </Card.Body>\n              </Card>\n            );\n          })}\n        </CardColumns>\n      </Container>\n    </>\n  );\n};\n\nexport default SavedBooks;\n","import React, { useState } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport { useMutation } from '@apollo/client';\nimport { ADD_USER } from '../utils/mutations';\nimport Auth from '../utils/auth';\n\nconst SignupForm = () => {\n  // set initial form state\n  const [userFormData, setUserFormData] = useState({ username: '', email: '', password: '' });\n  // set state for form validation\n  const [validated] = useState(false);\n  // set state for alert\n  const [showAlert, setShowAlert] = useState(false);\n\n  const [addUser, { error, data }] = useMutation(ADD_USER);\n  \n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    // check if form has everything (as per react-bootstrap docs)\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    try {\n      console.log(userFormData.username)\n      const {data} = await addUser(\n        {variables: { \n          username: userFormData.username,\n          email: userFormData.email,\n          password: userFormData.password,\n        }\n    });\n    console.log(data)\n    \n      Auth.login(data.addUser.token);\n    } catch (error) {\n      console.error(error);\n      setShowAlert(true);\n    }\n\n    setUserFormData({\n      username: '',\n      email: '',\n      password: '',\n    });\n  };\n\n  return (\n    <>\n      {/* This is needed for the validation functionality above */}\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\n        {/* show alert if server response is bad */}\n        <Alert dismissible onClose={() => setShowAlert(false)} show={showAlert} variant='danger'>\n          Something went wrong with your signup!\n        </Alert>\n\n        <Form.Group>\n          <Form.Label htmlFor='username'>Username</Form.Label>\n          <Form.Control\n            type='text'\n            placeholder='Your username'\n            name='username'\n            onChange={handleInputChange}\n            value={userFormData.username}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>Username is required!</Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label htmlFor='email'>Email</Form.Label>\n          <Form.Control\n            type='email'\n            placeholder='Your email address'\n            name='email'\n            onChange={handleInputChange}\n            value={userFormData.email}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>Email is required!</Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label htmlFor='password'>Password</Form.Label>\n          <Form.Control\n            type='password'\n            placeholder='Your password'\n            name='password'\n            onChange={handleInputChange}\n            value={userFormData.password}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>Password is required!</Form.Control.Feedback>\n        </Form.Group>\n        <Button\n          disabled={!(userFormData.username && userFormData.email && userFormData.password)}\n          type='submit'\n          variant='success'>\n          Submit\n        </Button>\n      </Form>\n    </>\n  );\n};\n\nexport default SignupForm;\n","// see SignupForm.js for comments\nimport React, { useState } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport { useMutation } from '@apollo/client';\nimport { LOGIN_USER } from '../utils/mutations';\nimport Auth from '../utils/auth';\n\nconst LoginForm = () => {\n  const [userFormData, setUserFormData] = useState({ email: '', password: '' });\n  const [validated] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n\n  const [loginUser, { error }] = useMutation(LOGIN_USER);\n  if (error) {\n    console.log(error);\n  }\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    // check if form has everything (as per react-bootstrap docs)\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    try {\n      const {data} = await loginUser(\n        {variables: {userFormData}}\n        );\n      Auth.login(data.login.token);\n            \n    } catch (err) {\n      console.error(err);\n      setShowAlert(true);\n    }\n\n    setUserFormData({\n      username: '',\n      email: '',\n      password: '',\n    });\n  };\n\n  return (\n    <>\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\n        <Alert dismissible onClose={() => setShowAlert(false)} show={showAlert} variant='danger'>\n          Something went wrong with your login credentials!\n        </Alert>\n        <Form.Group>\n          <Form.Label htmlFor='email'>Email</Form.Label>\n          <Form.Control\n            type='text'\n            placeholder='Your email'\n            name='email'\n            onChange={handleInputChange}\n            value={userFormData.email}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>Email is required!</Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label htmlFor='password'>Password</Form.Label>\n          <Form.Control\n            type='password'\n            placeholder='Your password'\n            name='password'\n            onChange={handleInputChange}\n            value={userFormData.password}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>Password is required!</Form.Control.Feedback>\n        </Form.Group>\n        <Button\n          disabled={!(userFormData.email && userFormData.password)}\n          type='submit'\n          variant='success'>\n          Submit\n        </Button>\n      </Form>\n    </>\n  );\n};\n\nexport default LoginForm;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Navbar, Nav, Container, Modal, Tab } from 'react-bootstrap';\nimport SignUpForm from './SignupForm';\nimport LoginForm from './LoginForm';\n\nimport Auth from '../utils/auth';\n\nconst AppNavbar = () => {\n  // set modal display state\n  const [showModal, setShowModal] = useState(false);\n\n  return (\n    <>\n      <Navbar bg='dark' variant='dark' expand='lg'>\n        <Container fluid>\n          <Navbar.Brand as={Link} to='/'>\n            Google Books Search\n          </Navbar.Brand>\n          <Navbar.Toggle aria-controls='navbar' />\n          <Navbar.Collapse id='navbar'>\n            <Nav className='ml-auto'>\n              <Nav.Link as={Link} to='/'>\n                Search For Books\n              </Nav.Link>\n              {/* if user is logged in show saved books and logout */}\n              {Auth.loggedIn() ? (\n                <>\n                  <Nav.Link as={Link} to='/saved'>\n                    See Your Books\n                  </Nav.Link>\n                  <Nav.Link onClick={Auth.logout}>Logout</Nav.Link>\n                </>\n              ) : (\n                <Nav.Link onClick={() => setShowModal(true)}>Login/Sign Up</Nav.Link>\n              )}\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n      {/* set modal data up */}\n      <Modal\n        size='lg'\n        show={showModal}\n        onHide={() => setShowModal(false)}\n        aria-labelledby='signup-modal'>\n        {/* tab container to do either signup or login component */}\n        <Tab.Container defaultActiveKey='login'>\n          <Modal.Header closeButton>\n            <Modal.Title id='signup-modal'>\n              <Nav variant='pills'>\n                <Nav.Item>\n                  <Nav.Link eventKey='login'>Login</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey='signup'>Sign Up</Nav.Link>\n                </Nav.Item>\n              </Nav>\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Tab.Content>\n              <Tab.Pane eventKey='login'>\n                <LoginForm handleModalClose={() => setShowModal(false)} />\n              </Tab.Pane>\n              <Tab.Pane eventKey='signup'>\n                <SignUpForm handleModalClose={() => setShowModal(false)} />\n              </Tab.Pane>\n            </Tab.Content>\n          </Modal.Body>\n        </Tab.Container>\n      </Modal>\n    </>\n  );\n};\n\nexport default AppNavbar;\n","import React from 'react';\nimport { ApolloClient, ApolloProvider, InMemoryCache } from '@apollo/client';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport SearchBooks from './pages/SearchBooks';\nimport SavedBooks from './pages/SavedBooks';\nimport Navbar from './components/Navbar';\n\nconst client = new ApolloClient({\n  uri: '/graphql',\n  cache: new InMemoryCache(),\n});\n\nfunction App() {\n  return (\n    <ApolloProvider client={client}>\n      <Router>\n        <>\n          <Navbar />\n          <Routes>\n            <Route \n              path='/' \n              element={<SearchBooks />} \n            />\n            <Route \n              path='/saved' \n              element={<SavedBooks />} \n            />\n            <Route \n              path='*'\n              element={<h1 className='display-2'>Wrong page!</h1>}\n            />\n          </Routes>\n        </>\n      </Router>\n    </ApolloProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"]}}